---
/*
 * Blog index page template
 *
 * Lists all of the blog posts.
 */
import { getCollection } from "astro:content";
import Layout from "@components/layouts/Layout.astro";
import Section from "@components/Section.astro";
import PostsList from "@components/pages/shared/PostsList.astro";

const posts = await getCollection("blog");

// Sort posts by published date in descending order
posts.sort(
  (a, b) => b.data.publishedAt.getTime() - a.data.publishedAt.getTime(),
);

return Astro.redirect("/blog/1");
---

<Layout title="Delta Lake Blogs">
  <Section
    title="Delta Lake Blogs"
    isPrimary
    padding="xxl"
    className="bg-white"
  >
    <PostsList posts={posts} hasFeaturedItem />
  </Section>
</Layout>
